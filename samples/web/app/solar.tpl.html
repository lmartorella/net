<!-- <title>Solar &#9728;</title> -->
<div ng-controller="solarCtrl as ctrl" >
  <span class="message"> {{ctrl.status}} </span>
  <div ng-show="ctrl.loaded">
    <p><span class="header" ng-class="ctrl.firstLineClass"> {{ctrl.firstLine}} </span> 
      <a ng-click="ctrl.drawDays(1)" href="#">{{res["Solar_ChartToday"]}}</a>
      &nbsp;
      <a ng-click="ctrl.drawDays(4)" href="#">{{res["Solar_Chart4days"]}}</a>
    </p>
    <p class="total-pw" ng-if="ctrl.pvData.totalDayWh"> {{res["Solar_EnergyToday"]}} <b>{{ctrl.pvData.totalDayWh / 1000}} kWh</b> </p>
    <p class="peak-pw" ng-if="ctrl.pvData.peakW"> {{res["Solar_Peak1"]}}<b>{{ctrl.pvData.peakW}}W</b> {{format("Solar_Peak2", { ts: ctrl.pvData.peakTsTime})}}</p>
    <p class="usage-pw" ng-if="ctrl.pvData.usageA && ctrl.pvData.gridV"> {{res["Solar_CurrentUsage"]}}<b>{{ctrl.pvData.gridV * ctrl.pvData.usageA | number:0}}W</b></p>
    <br/>
    <br/>
    <br/>
    <p class="total-pw" ng-if="ctrl.pvData.totalKwh"> {{res["Solar_EnergyTotal"]}} <b>{{ctrl.pvData.totalKwh}} kWh</b> </p>

    <div id="chart"></div>

    <p class="bot muted"> 
      <span ng-if="ctrl.pvData.currentTs"> {{format("Solar_Updated", ctrl.pvData)}} </span> 
    </p>
  </div>
</div>
